name: Partior Golang CI
on:
  pull_request:
    branches: [ main, release/**, hotfix/** ]
    paths-ignore:
      - '.github/**'
  push:
    branches: [ main ]
    paths-ignore:
      - '.github/**'
  workflow_dispatch:
      inputs:
        ACCEPTANCE-TEST:
          required: false
          description: "Extent of Acceptance Tests"
          type: choice
          default: 'Standard Acceptance Tests Only'
          options:
            - Standard Acceptance Tests Only
            - With Extra Acceptance Tests (feature-enabled networks)
    
jobs:
  ci-pipeline:
    uses: partior-libs/controller-3p-pipelines/.github/workflows/pipeline-template-go-ci-quorum.yaml@feature/DSO-2561_acceptance_test
    with:
      CONTROLLER-REPO: partior-libs/controller-3p-pipelines
      PROJECT-REPO: ${{ github.repository }}
      ACCEPTANCE-TEST: ${{ inputs.ACCEPTANCE-TEST }}
    secrets: inherit